# EchoMind 前端 UI 测试清单

> 文档版本：2026-02-24 | 面向：测试伙伴（非开发人员）
>
> 本文档帮助你独立构建和测试 EchoMind Flutter 应用。请按顺序阅读。

---

## 一、环境准备与构建指南

### 1.1 环境要求

| 工具 | 最低版本 | 说明 |
|------|---------|------|
| Flutter SDK | 3.27.0+ | [安装指南](https://docs.flutter.dev/get-started/install) |
| Dart SDK | 3.6.0+ | 随 Flutter 自动安装 |
| Android Studio | 最新稳定版 | 构建 Android APK 需要 |
| Chrome 浏览器 | 最新版 | 构建 Web 版需要 |
| Git | 任意版本 | 拉取代码 |

### 1.2 拉取代码

```bash
git clone <仓库地址>
cd EchoMind-AI_Error_Tracker/echomind_app
```

### 1.3 安装依赖

```bash
flutter pub get
```

### 1.4 API 地址配置

应用默认连接后端 API 地址为：

```
http://8.130.16.212:8001/api
```

> **注意**：如果你在本地测试，需要确认后端服务已启动。如果 API 地址有变化，需要修改文件：
> `lib/core/api_client.dart` 第 5 行的 `_baseUrl` 值。

### 1.5 构建 Android APK

```bash
# 调试版（推荐测试用，构建快）
flutter build apk --debug

# 正式版（体积小，但构建慢）
flutter build apk --release
```

构建产物位置：`build/app/outputs/flutter-apk/app-debug.apk`

将 APK 传到手机安装即可。

**常见问题：**
- "SDK not found"：运行 `flutter doctor` 检查环境配置
- "Gradle build failed"：确保 Android Studio 已安装且 SDK 路径正确
- 安装 APK 提示"未知来源"：在手机设置中允许安装未知来源应用

### 1.6 构建 Web 版

```bash
flutter build web
```

构建产物位置：`build/web/`

本地预览：
```bash
cd build/web && python3 -m http.server 8080
# 浏览器打开 http://localhost:8080
```

**常见问题：**
- 图片上传功能在 Web 版中行为与手机端不同（使用文件选择器代替相机）
- Web 版不支持调用手机相机

---

## 二、应用导航结构

### 2.1 底部导航栏（5 个主 Tab）

| Tab 序号 | 名称 | 路由 | 图标 |
|---------|------|------|------|
| 0 | 主页 | `/` | 🏠 |
| 1 | 全局 | `/global-knowledge` | 🌐 |
| 2 | 记忆 | `/memory` | 🃏 |
| 3 | 社区 | `/community` | 👥 |
| 4 | 我的 | `/profile` | 👤 |

### 2.2 完整页面清单

应用共有 22 个页面，分布在 21 个功能模块中：

| # | 页面 | 路由 | 状态 |
|---|------|------|------|
| 1 | 登录 | `/login` | ✅ 正常 |
| 2 | 注册 | `/register` | ✅ 正常 |
| 3 | 主页 | `/` | ✅ 正常 |
| 4 | 全局知识 | `/global-knowledge` | ✅ 正常 |
| 5 | 记忆 | `/memory` | ✅ 正常 |
| 6 | 社区 | `/community` | 🚧 占位页 |
| 7 | 我的 | `/profile` | ✅ 正常 |
| 8 | 全局模型 | `/global-model` | ✅ 正常 |
| 9 | 全局考试 | `/global-exam` | ✅ 正常 |
| 10 | AI 诊断 | `/ai-diagnosis` | 🎭 Demo 模式 |
| 11 | 闪卡复习 | `/flashcard-review` | ✅ 正常 |
| 12 | 知识点详情 | `/knowledge-detail/:id` | ✅ 正常 |
| 13 | 知识学习 | `/knowledge-learning` | 🎭 Demo 模式 |
| 14 | 模型详情 | `/model-detail/:id` | ✅ 正常 |
| 15 | 模型训练 | `/model-training` | 🎭 Demo 模式 |
| 16 | 预测中心 | `/prediction-center` | ✅ 正常 |
| 17 | 错题汇总 | `/question-aggregate` | ✅ 正常 |
| 18 | 错题详情 | `/question-detail/:id` | ✅ 正常 |
| 19 | 上传历史 | `/upload-history` | ✅ 正常 |
| 20 | 上传错题 | `/upload-menu` | ✅ 正常 |
| 21 | 周报 | `/weekly-review` | ✅ 正常 |
| 22 | 注册策略 | `/register-strategy` | 🚧 占位页 |

**状态说明：**
- ✅ 正常：已接入后端 API，数据为真实数据
- 🎭 Demo 模式：后端端点为 stub（返回空数据），前端自动回退显示演示内容
- 🚧 占位页：仅显示"功能开发中"提示，无实际功能

---

## 三、逐页测试要点

### 3.1 登录页 (`/login`)

**入口：** 应用启动时，未登录状态自动跳转到此页面

**正常流程：**
1. 看到 "EchoMind" 标题和 "AI 错题追踪" 副标题
2. 输入手机号和密码
3. 点击「登录」按钮
4. 登录成功后自动跳转到主页

**测试要点：**
- [ ] 页面正常显示，无白屏或崩溃
- [ ] 输入手机号时键盘类型为数字键盘
- [ ] 输入密码时内容被遮挡（密文显示）
- [ ] 手机号或密码为空时，点击登录应提示错误
- [ ] 输入错误的手机号/密码，应显示红色错误提示
- [ ] 登录过程中按钮显示加载动画（转圈），不可重复点击
- [ ] 登录成功后跳转到主页
- [ ] 点击「没有账号？立即注册」跳转到注册页

**边界条件：**
- 网络断开时点击登录，应提示"无法连接服务器"
- 快速连续点击登录按钮，不应发送多次请求

---

### 3.2 注册页 (`/register`)

**入口：** 登录页点击「没有账号？立即注册」

**正常流程：**
1. 填写手机号、密码、昵称（选填）
2. 选择地区（天津/北京/上海/全国卷）
3. 选择科目（物理/数学/化学）
4. 拖动滑块设置目标分数（30-100 分）
5. 点击「注册」按钮
6. 注册成功后自动跳转到主页

**测试要点：**
- [ ] 页面正常显示所有表单字段
- [ ] 手机号输入框为数字键盘
- [ ] 密码输入框为密文显示
- [ ] 昵称为选填，留空也能注册
- [ ] 地区下拉框包含 4 个选项
- [ ] 科目下拉框包含 3 个选项
- [ ] 目标分数滑块范围 30-100，步进为 5
- [ ] 注册过程中按钮显示加载动画
- [ ] 手机号已被注册时显示错误提示
- [ ] 注册成功后跳转到主页

**边界条件：**
- 手机号格式不正确时的提示
- 密码为空时的提示

---

### 3.3 主页 (`/`) — Tab 0

**入口：** 登录成功后默认页面，底部导航栏第一个 Tab

**页面组成：**
- 顶部标题栏（"主页"）
- 仪表盘（学习数据概览）
- 推荐列表（个性化学习推荐）
- 最近上传记录
- 底部操作浮层

**测试要点：**
- [ ] 页面正常加载，显示仪表盘数据
- [ ] 仪表盘数字与后端数据一致（如有数据）
- [ ] 推荐列表正常显示，可滚动
- [ ] 最近上传记录显示正确
- [ ] 底部导航栏 5 个 Tab 均可点击切换
- [ ] 页面可正常上下滚动，无卡顿

**边界条件：**
- 新注册用户（无数据）时，各区域应显示空状态或默认值
- 网络异常时应有错误提示

---

### 3.4 全局知识页 (`/global-knowledge`) — Tab 1

**入口：** 底部导航栏第二个 Tab「全局」

**页面组成：**
- 顶部标题栏（含 Tab 切换）
- 知识树列表

**测试要点：**
- [ ] 页面正常加载知识树
- [ ] 知识点列表可展开/折叠（如有层级）
- [ ] 点击某个知识点可跳转到知识点详情页
- [ ] 页面可正常滚动

**边界条件：**
- 无知识点数据时的空状态显示

---

### 3.5 记忆页 (`/memory`) — Tab 2

**入口：** 底部导航栏第三个 Tab「记忆」

**页面组成：**
- 顶部标题栏
- 复习仪表盘（待复习数量等统计）
- 卡片分类列表

**测试要点：**
- [ ] 页面正常加载，显示复习统计数据
- [ ] 卡片分类列表正常显示
- [ ] 点击分类可进入对应的闪卡复习
- [ ] 页面可正常滚动

**边界条件：**
- 无待复习卡片时的空状态

---

### 3.6 社区页 (`/community`) — Tab 3 🚧 占位页

**入口：** 底部导航栏第四个 Tab「社区」

> ⚠️ **这是占位功能，不需要深入测试。**

**测试要点：**
- [ ] 页面显示"功能开发中"提示文字和施工图标
- [ ] 页面不崩溃、不白屏
- [ ] 底部导航栏仍可正常切换到其他 Tab

---

### 3.7 我的/个人中心 (`/profile`) — Tab 4

**入口：** 底部导航栏第五个 Tab「我的」

**页面组成：**
- 顶部标题栏
- 用户信息卡片（头像、昵称、手机号）
- 目标分数卡片
- 学习统计
- 三行导航入口（如：上传历史、周报、预测中心等）
- 两行导航入口

**测试要点：**
- [ ] 页面正常加载用户信息
- [ ] 用户昵称、手机号显示正确
- [ ] 目标分数显示与注册时设置一致
- [ ] 学习统计数据正常显示
- [ ] 各导航入口可正常点击跳转
- [ ] 页面可正常滚动

**边界条件：**
- 昵称为空时的显示（注册时昵称为选填）

---

### 3.8 全局模型页 (`/global-model`)

**入口：** 全局知识页 Tab 切换，或个人中心导航

**页面组成：**
- 顶部标题栏
- 模型树列表（题型/解题模型层级）

**测试要点：**
- [ ] 页面正常加载模型树
- [ ] 模型列表可滚动
- [ ] 点击某个模型可跳转到模型详情页
- [ ] 返回按钮正常工作

**边界条件：**
- 无模型数据时的空状态

---

### 3.9 全局考试页 (`/global-exam`)

**入口：** 全局知识页 Tab 切换，或个人中心导航

**页面组成：**
- 顶部标题栏
- 考试热力图（做题频率日历）
- 题型浏览器
- 最近考试列表

**测试要点：**
- [ ] 页面正常加载，无白屏
- [ ] 热力图正常渲染（有数据时显示颜色深浅）
- [ ] 题型浏览器列表正常显示
- [ ] 最近考试列表显示正确
- [ ] 页面可正常滚动

**边界条件：**
- 无考试记录时各区域的空状态

---

### 3.10 AI 诊断页 (`/ai-diagnosis`) 🎭 Demo 模式

**入口：** 主页或个人中心导航

> ⚠️ **当前为 Demo 模式。** 后端端点 `/api/diagnosis/session` 为 stub，返回空数据。前端自动回退显示硬编码的演示内容。测试时只需验证页面能正常显示，不需要验证数据准确性。

**页面组成：**
- 顶部标题栏
- 主内容区（诊断对话界面）
- 底部操作浮层

**测试要点：**
- [ ] 页面正常显示演示内容，无白屏或崩溃
- [ ] 演示对话内容可正常浏览
- [ ] 返回按钮正常工作

---

### 3.11 闪卡复习页 (`/flashcard-review`)

**入口：** 记忆页点击分类卡片

**页面组成：**
- 顶部标题栏
- 闪卡组件（翻转卡片，正面题目/反面答案）

**测试要点：**
- [ ] 页面正常加载闪卡
- [ ] 卡片可翻转查看答案
- [ ] 可左右滑动切换卡片（如支持）
- [ ] 返回按钮正常工作

**边界条件：**
- 无闪卡数据时的空状态

---

### 3.12 知识点详情页 (`/knowledge-detail/:id`)

**入口：** 全局知识页点击某个知识点

**页面组成：**
- 顶部标题栏
- 掌握度仪表盘（该知识点的掌握程度）
- 概念测试记录列表
- 关联模型列表

**测试要点：**
- [ ] 页面正常加载，显示对应知识点的数据
- [ ] 掌握度数值和图表正常渲染
- [ ] 测试记录列表正常显示
- [ ] 关联模型列表可点击跳转到模型详情
- [ ] 返回按钮正常工作

**边界条件：**
- 传入不存在的 id 时页面不崩溃

---

### 3.13 知识学习页 (`/knowledge-learning`) 🎭 Demo 模式

**入口：** 知识点详情页的学习入口

> ⚠️ **当前为 Demo 模式。** 后端端点 `/api/knowledge/learning/session` 为 stub。前端显示硬编码的演示内容。

**页面组成：**
- 顶部标题栏
- 步骤导航（多步骤学习流程）
- 概念展示区
- 学习对话区
- 底部操作浮层

**测试要点：**
- [ ] 页面正常显示演示内容，无白屏或崩溃
- [ ] 步骤导航可点击切换
- [ ] 对话区内容可正常浏览和滚动
- [ ] 返回按钮正常工作

---

### 3.14 模型详情页 (`/model-detail/:id`)

**入口：** 全局模型页点击某个模型

**页面组成：**
- 顶部标题栏
- 掌握度仪表盘
- 前置知识列表
- 关联错题列表
- 训练记录列表

**测试要点：**
- [ ] 页面正常加载，显示对应模型的数据
- [ ] 掌握度数值和图表正常渲染
- [ ] 前置知识列表可点击跳转
- [ ] 关联错题列表可点击跳转到错题详情
- [ ] 训练记录列表正常显示
- [ ] 返回按钮正常工作

**边界条件：**
- 传入不存在的 id 时页面不崩溃

---

### 3.15 模型训练页 (`/model-training`) 🎭 Demo 模式

**入口：** 模型详情页的训练入口

> ⚠️ **当前为 Demo 模式。** 后端端点 `/api/models/training/session` 为 stub。前端显示硬编码的演示内容。

**页面组成：**
- 顶部标题栏
- 步骤导航（多步骤训练流程）
- 识别训练区
- 训练对话区
- 底部操作浮层

**测试要点：**
- [ ] 页面正常显示演示内容，无白屏或崩溃
- [ ] 步骤导航可点击切换
- [ ] 训练对话区内容可正常浏览和滚动
- [ ] 返回按钮正常工作

---

### 3.16 预测中心页 (`/prediction-center`)

**入口：** 个人中心导航

**页面组成：**
- 顶部标题栏
- 分数卡片（当前预测分数）
- 趋势卡片（分数变化折线图）
- 提分路径表
- 优先模型列表

**测试要点：**
- [ ] 页面正常加载，显示预测分数
- [ ] 趋势图正常渲染
- [ ] 提分路径表数据正常显示
- [ ] 优先模型列表可点击跳转
- [ ] 页面可正常滚动

**边界条件：**
- 无预测数据时的空状态

---

### 3.17 错题汇总页 (`/question-aggregate`)

**入口：** 个人中心导航

**页面组成：**
- 顶部标题栏
- 单题统计仪表盘
- 考试分析区
- 错题历史列表

**测试要点：**
- [ ] 页面正常加载，显示统计数据
- [ ] 考试分析区正常渲染
- [ ] 错题历史列表可滚动，点击可跳转到错题详情
- [ ] 页面可正常滚动

**边界条件：**
- 无错题数据时的空状态

---

### 3.18 错题详情页 (`/question-detail/:id`)

**入口：** 错题汇总页点击某道错题

**页面组成：**
- 顶部标题栏
- 题目内容区（题干、选项）
- 作答结果区（正确答案 vs 你的答案）
- 关联关系区（关联知识点、模型）
- 题目来源区

**测试要点：**
- [ ] 页面正常加载，显示对应错题的数据
- [ ] 题目内容完整显示
- [ ] 作答结果区正确标注对错
- [ ] 关联知识点/模型可点击跳转
- [ ] 返回按钮正常工作

**边界条件：**
- 传入不存在的 id 时页面不崩溃

---

### 3.19 上传历史页 (`/upload-history`)

**入口：** 个人中心导航，或上传成功后自动跳转

**页面组成：**
- 顶部标题栏
- 筛选器（按类型/日期筛选）
- 日期横向滚动条
- 上传记录列表

**测试要点：**
- [ ] 页面正常加载，显示上传记录
- [ ] 筛选器可正常切换
- [ ] 日期滚动条可左右滑动
- [ ] 记录列表可滚动，显示上传时间和状态
- [ ] 返回按钮正常工作

**边界条件：**
- 无上传记录时的空状态

---

### 3.20 上传错题页 (`/upload-menu`)

**入口：** 主页底部操作浮层，或个人中心导航

**正常流程：**
1. 点击「拍照」或「相册」选择图片
2. 图片预览区显示所选图片
3. 选择来源（拍照上传 / 手动录入）
4. 点击「上传」按钮
5. 上传成功后自动跳转到上传历史页

**测试要点：**
- [ ] 页面正常显示，标题为"上传错题"
- [ ] 点击「拍照」可调起手机相机（仅手机端）
- [ ] 点击「相册」可打开图片选择器
- [ ] 选择图片后预览区正常显示
- [ ] 来源下拉框包含 2 个选项（拍照上传、手动录入）
- [ ] 未选择图片时上传按钮为禁用状态
- [ ] 上传过程中按钮显示加载动画
- [ ] 上传成功后跳转到上传历史页
- [ ] 上传失败时显示红色错误提示

**边界条件：**
- 选择超大图片时的处理（图片会自动压缩到 80% 质量）
- 网络断开时上传失败的提示

---

### 3.21 周报页 (`/weekly-review`)

**入口：** 个人中心导航

**页面组成：**
- 顶部标题栏
- 周报仪表盘（本周学习概览）
- 分数变化区
- 本周进度区
- 下周重点区

**测试要点：**
- [ ] 页面正常加载，显示本周数据
- [ ] 分数变化区正常渲染
- [ ] 本周进度区显示正确
- [ ] 下周重点推荐列表正常
- [ ] 页面可正常滚动

**边界条件：**
- 本周无学习数据时的空状态

---

### 3.22 注册策略页 (`/register-strategy`) 🚧 占位页

**入口：** 个人中心导航

> ⚠️ **这是占位功能，不需要深入测试。**

**测试要点：**
- [ ] 页面显示"功能开发中"提示文字和施工图标
- [ ] 页面不崩溃、不白屏
- [ ] 返回按钮正常工作

---

## 四、已知限制与注意事项

### 4.1 不需要测试的页面（占位功能）

以下页面仅显示"功能开发中"占位提示，无实际功能，只需确认不崩溃即可：

| 页面 | 路由 | 说明 |
|------|------|------|
| 社区 | `/community` | 社区功能未开发 |
| 注册策略 | `/register-strategy` | 注册策略功能未开发 |

### 4.2 Demo 模式页面（后端 stub）

以下页面的后端端点为 stub（返回空数据），前端自动回退显示硬编码的演示内容。测试时只需验证页面能正常显示，不需要验证数据准确性：

| 页面 | 路由 | 后端端点 | 说明 |
|------|------|---------|------|
| AI 诊断 | `/ai-diagnosis` | `GET /api/diagnosis/session` | 返回空会话，前端显示 demo 对话 |
| 知识学习 | `/knowledge-learning` | `GET /api/knowledge/learning/session` | 返回空会话，前端显示 demo 学习流程 |
| 模型训练 | `/model-training` | `GET /api/models/training/session` | 返回空会话，前端显示 demo 训练流程 |

### 4.3 API 基址说明

| 配置项 | 值 |
|-------|-----|
| 后端公网地址 | `http://8.130.16.212:8001` |
| 健康检查 | `GET http://8.130.16.212:8001/health` → `{"status":"ok"}` |
| Flutter 配置文件 | `lib/core/api_client.dart` 第 5 行 |
| 连接超时 | 10 秒 |
| 响应超时 | 10 秒 |

> 测试前请先在浏览器访问 `http://8.130.16.212:8001/health`，确认返回 `{"status":"ok"}`。如果无法访问，说明后端服务未启动，请联系开发人员。

### 4.4 推荐测试顺序

建议按以下顺序测试，从核心流程到辅助功能：

1. **注册 → 登录**（验证账号系统）
2. **主页**（验证数据加载）
3. **上传错题**（核心功能：拍照/选图 → 上传）
4. **上传历史**（验证上传结果）
5. **全局知识 → 知识点详情**（知识体系浏览）
6. **全局模型 → 模型详情**（模型体系浏览）
7. **全局考试**（考试数据浏览）
8. **记忆 → 闪卡复习**（复习功能）
9. **预测中心**（分数预测）
10. **错题汇总 → 错题详情**（错题管理）
11. **周报**（学习报告）
12. **个人中心**（用户信息）
13. **Demo 页面**（AI 诊断、知识学习、模型训练 — 仅验证不崩溃）
14. **占位页面**（社区、注册策略 — 仅验证不崩溃）

### 4.5 Bug 报告模板

发现问题时，请按以下格式记录：

```
【页面】：（页面名称和路由）
【操作步骤】：
1. ...
2. ...
3. ...
【预期结果】：（你期望看到什么）
【实际结果】：（实际发生了什么）
【截图】：（如有，请附上截图）
【设备信息】：（手机型号 / 浏览器版本）
```

